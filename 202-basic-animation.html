<!DOCTYPE html>
<html lang="en">
  <head>
    <title>D3js</title>
    <link href="css/materialize.min.css" rel="stylesheet">
    <script src="js/materialize.min.js"></script>
    <script src="js/d3.min.js"></script>
    <!-- code highlighting -->
    <link href="css/darcula.css" rel="stylesheet">
    <script src="js/highlight.pack.js"></script>
    <script> hljs.initHighlightingOnLoad();</script>
  </head>

  <body>

    <section>
      <header class="container">
          <h3>Basic animation</h3>
      </header>
    </section>

    <!-- section used to display errors -->
    <section style='display:none;' id='error-list'>
      <div class='card-panel red lighten-4 grey-text'>
        <ul>
        <li><h5 class='red-text text-darken-3'>Errors:</h5>
        </ul>
      </div>
    </section>

    <!-- section to show D3.js reults -->
    <section>
      <div class="container" id='button-holder' style='display:flex;align-items:center;justify-content:center;'>
      </div>
      <div class="container" id='main-text'>
      </div>
    </section>

    <!-- section to show code on html -->
    <section>
      <div class="container">
      <pre><code class="javascript">
  let alphabet = ['a'];
  canvas
    .selectAll('text')
    .data(alphabet)
    .enter()
    .append('text')
    .attr('x',0)
    .attr('y',height)
    .attr('text-anchor','middle')
    .text( (d) => d)

  function animate(elapsed){
    canvas.selectAll('text')
      .attr('x',elapsed/10)
      .attr('font-size',elapsed/10)
    if (elapsed/10 >= (width)-120)
        t.stop();
  }

  let t = d3.timer(animate);
  <!-- insert code here -->
      </code></pre>
      </div>
    </section>

    <!-- insert script (i.e d3 code) here -->
    <script type='text/javascript'>
      let margin = {top: 40, right: 20, bottom: 40, left: 20}
      let height = 400 - margin.left - margin.right;
      let width = 800 - margin.top - margin.bottom;
      let canvas = d3.select('#main-text').append('svg')
        .attr('width',width + margin.left + margin.right)
        .attr('height',height + margin.top + margin.bottom)
        .append('g')
        .attr('transform','translate('+margin.left+','+margin.top+')')

      let alphabet = ['a'];
      canvas
        .selectAll('text')
        .data(alphabet)
        .enter()
        .append('text')
        .attr('x',0)
        .attr('y',height)
        .attr('text-anchor','middle')
        .text( (d) => d)

      function animate(elapsed){
        canvas.selectAll('text')
          .attr('x',elapsed/10)
          .attr('font-size',elapsed/10)
        if (elapsed/10 >= (width)-120)
            t.stop();
      }

      let t = d3.timer( (elapsed) => animate(elapsed) );

    </script>
  </body>
</html>
